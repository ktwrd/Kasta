@using Kasta.Web.Areas.Gallery.Models.Details
@using Vivet.AspNetCore.RequestTimeZone.Extensions
@model IndexViewModel
@inject IHttpContextAccessor ContextAccessor


@{
    ViewData["Title"] = "Inbox";
    Layout = "_Layout";
    
    var targetTimezone = TimeZoneInfo.Utc;
    if (ViewData.ContainsKey("TargetTimezone"))
    {
        targetTimezone = (TimeZoneInfo)ViewData["TargetTimezone"]!;
    }
    else if (ContextAccessor.HttpContext != null)
    {
        var tz = ContextAccessor.HttpContext.GetUserTimeZone();
        if (tz != null)
        {
            targetTimezone = tz;
        }
    }
}
